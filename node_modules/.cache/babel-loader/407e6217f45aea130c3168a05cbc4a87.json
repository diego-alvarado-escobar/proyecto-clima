{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alvar\\\\OneDrive\\\\Proyectos\\\\TestBanco\\\\proyectoclima\\\\produccion\\\\src\\\\Components\\\\LineChart.js\";\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass LineChart extends Component {\n  constructor(props) {\n    super(props);\n    this.myRef = /*#__PURE__*/React.createRef();\n  }\n\n  componentDidMount() {\n    var margin = {\n      top: 50,\n      left: 60,\n      bottom: 15,\n      right: 0\n    },\n        width = 700 - margin.left - margin.right,\n        height = 500 - margin.top - margin.bottom;\n    var svg = d3.select(\".graph-container\").append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom);\n    var y = d3.scaleLinear().range([height - margin.bottom, margin.top]);\n    var x = d3.scaleBand().range([margin.left, width - margin.right]).paddingOuter(0.4).paddingInner(0.3); //DEFINIENDO ESTILO PARA EJE X, EJE Y Y BARRAS\n\n    var xAxisGroup = svg.append(\"g\").attr(\"class\", \"x axis\").attr(\"color\", \"black\").attr(\"transform\", \"translate(0, \" + (height - 15) + \")\");\n    var yAxisGroup = svg.append(\"g\").attr(\"class\", \"y axis\").attr(\"color\", \"black\"); //IMPORTANDO LOS DATOS\n\n    d3.json(\"http://api.openweathermap.org/data/2.5/forecast?q=Medellin&lang=sp&units=metric&appid=f0e5a162320155ed3912e1cbaa66d4b2\").then(function (dataComplete) {\n      var dataList = dataComplete.list;\n      var data = [];\n      var i = 0;\n      dataList.forEach(d => {\n        var fecha = moment.unix(d.dt).format(\"DD/MMM/YY\");\n        var dataWeather = d.weather;\n\n        if (i >= 1) {\n          var ultimoRegistro = data[data.length - 1];\n\n          if (fecha == ultimoRegistro.date) {\n            if (d.main.temp_min < ultimoRegistro.tempL) {\n              data[data.length - 1].tempL = d.main.temp_min;\n            }\n\n            if (d.main.temp_max > ultimoRegistro.tempH) {\n              data[data.length - 1].tempH = d.main.temp_max;\n            }\n          } else {\n            data.push({\n              date: fecha,\n              tempL: d.main.temp_min,\n              tempH: d.main.temp_max,\n              description: dataWeather[0].description\n            });\n          }\n        } else {\n          data.push({\n            date: fecha,\n            tempL: d.main.temp_min,\n            tempH: d.main.temp_max,\n            description: dataWeather[0].description\n          });\n        }\n\n        i = i + 1;\n      });\n      x.domain(data.map(d => d.date));\n      y.domain([0, d3.max(data, d => d.tempH)]); //DEFINIENDO X\n\n      var xAxis = d3.axisBottom(x);\n      xAxisGroup.call(xAxis).selectAll(\"text\").style(\"text-anchor\", \"end\").attr(\"dy\", \"0.9em\").attr(\"transform\", \"rotate(-35)\"); //DEFINIENDO Y\n\n      var yAxis = d3.axisLeft(y).ticks(10).tickFormat(d => d);\n      yAxisGroup.call(yAxis).attr(\"transform\", \"translate(\" + margin.left + \",0)\"); //CREANDO EL TOOLTIP\n\n      var tooltip = d3.select(\".forecast-content\").append(\"div\").style(\"position\", \"absolute\").style(\"z-index\", 10).style(\"visibility\", \"visible\"); // Se define la posicion del texto de la fecha en el tooltip\n\n      tooltip.append(\"text\").attr(\"class\", \"tooltip-date\").attr(\"x\", 18).attr(\"y\", 10); //AGREGANDO BARRAS Y TOOLTIP\n\n      svg.append(\"g\").selectAll(\"rect\").data(data).enter().append(\"rect\").attr(\"x\", item => x(item.date)).attr(\"y\", item => y(item.tempL)).attr(\"width\", 30).attr(\"height\", item => y(0) - y(item.tempL)).attr(\"fill\", '#4d7cf1').text(item => item.description).on('mouseover', d => {\n        var dataItem = d.srcElement.__data__;\n        tooltip.html(\"Fecha: \" + dataItem.date + \"<br />Tiempo:\" + dataItem.description + \" <br />Temperatura mas alta: \" + dataItem.tempH + \" <br />Temperatura mas baja: \" + dataItem.tempL);\n        return tooltip.style(\"visibility\", \"visible\").style(\"top\", d.pageY + \"px\").style(\"left\", d.pageX + \"px\").style(\"background-color\", \"white\").style(\"color\", \"black\").style(\"border\", \"1px solid black\").style(\"border-radius\", \"0.5cm\").style(\"padding\", \"5px\");\n      }).on(\"mouseout\", () => tooltip.style(\"visibility\", \"hidden\"));\n      svg.append(\"g\").selectAll(\"rect\").data(data).enter().append(\"rect\").attr(\"x\", d => x(d.date) + 30).attr(\"y\", d => y(d.tempH)).attr(\"width\", 30).attr(\"height\", d => y(0) - y(d.tempH)).attr(\"fill\", 'rgb(197 37 37)').text(d => d.tempH).on('mouseover', d => {\n        var dataItem = d.srcElement.__data__;\n        tooltip.html(\"Fecha: \" + dataItem.date + \"<br />Tiempo:\" + dataItem.description + \" <br />Temperatura mas alta: \" + dataItem.tempH + \" <br />Temperatura mas baja: \" + dataItem.tempL);\n        return tooltip.style(\"visibility\", \"visible\").style(\"top\", d.pageY + \"px\").style(\"left\", d.pageX + \"px\").style(\"background-color\", \"white\").style(\"color\", \"black\").style(\"border\", \"1px solid black\").style(\"border-radius\", \"0.5cm\").style(\"padding\", \"5px\");\n      }).on(\"mouseout\", () => tooltip.style(\"visibility\", \"hidden\"));\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"forecast-content\",\n      style: {\n        'background': 'white'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"section-title\",\n        children: \"Pron\\xF3stico de los pr\\xF3ximos 5 dias\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"graph-container\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default LineChart;","map":{"version":3,"sources":["C:/Users/alvar/OneDrive/Proyectos/TestBanco/proyectoclima/produccion/src/Components/LineChart.js"],"names":["React","Component","d3","moment","LineChart","constructor","props","myRef","createRef","componentDidMount","margin","top","left","bottom","right","width","height","svg","select","append","attr","y","scaleLinear","range","x","scaleBand","paddingOuter","paddingInner","xAxisGroup","yAxisGroup","json","then","dataComplete","dataList","list","data","i","forEach","d","fecha","unix","dt","format","dataWeather","weather","ultimoRegistro","length","date","main","temp_min","tempL","temp_max","tempH","push","description","domain","map","max","xAxis","axisBottom","call","selectAll","style","yAxis","axisLeft","ticks","tickFormat","tooltip","enter","item","text","on","dataItem","srcElement","__data__","html","pageY","pageX","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,KAAKC,EAAZ,MAAoB,IAApB;AACA,OAAOC,MAAP,MAAmB,QAAnB;;;AAEA,MAAMC,SAAN,SAAwBH,SAAxB,CAAkC;AAE9BI,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,gBAAaP,KAAK,CAACQ,SAAN,EAAb;AACH;;AAGDC,EAAAA,iBAAiB,GAAI;AAEvB,QAAIC,MAAM,GAAG;AAAEC,MAAAA,GAAG,EAAE,EAAP;AAAWC,MAAAA,IAAI,EAAE,EAAjB;AAAqBC,MAAAA,MAAM,EAAE,EAA7B;AAAiCC,MAAAA,KAAK,EAAE;AAAxC,KAAb;AAAA,QACUC,KAAK,GAAG,MAAML,MAAM,CAACE,IAAb,GAAoBF,MAAM,CAACI,KAD7C;AAAA,QAEUE,MAAM,GAAG,MAAMN,MAAM,CAACC,GAAb,GAAmBD,MAAM,CAACG,MAF7C;AAIF,QAAII,GAAG,GAAGf,EAAE,CAACgB,MAAH,CAAU,kBAAV,EAA8BC,MAA9B,CAAqC,KAArC,EACLC,IADK,CACA,OADA,EACSL,KAAK,GAAGL,MAAM,CAACE,IAAf,GAAsBF,MAAM,CAACI,KADtC,EAELM,IAFK,CAEA,QAFA,EAEUJ,MAAM,GAAGN,MAAM,CAACC,GAAhB,GAAsBD,MAAM,CAACG,MAFvC,CAAV;AAIA,QAAIQ,CAAC,GAAGnB,EAAE,CAACoB,WAAH,GACHC,KADG,CACG,CAACP,MAAM,GAAGN,MAAM,CAACG,MAAjB,EAAyBH,MAAM,CAACC,GAAhC,CADH,CAAR;AAGA,QAAIa,CAAC,GAAGtB,EAAE,CAACuB,SAAH,GACHF,KADG,CACG,CAACb,MAAM,CAACE,IAAR,EAAcG,KAAK,GAAGL,MAAM,CAACI,KAA7B,CADH,EAEHY,YAFG,CAEU,GAFV,EAGHC,YAHG,CAGU,GAHV,CAAR,CAbyB,CAmBzB;;AACA,QAAIC,UAAU,GAAGX,GAAG,CAACE,MAAJ,CAAW,GAAX,EACZC,IADY,CACP,OADO,EACE,QADF,EAEZA,IAFY,CAEP,OAFO,EAEE,OAFF,EAGZA,IAHY,CAGP,WAHO,EAGM,mBAAmBJ,MAAM,GAAG,EAA5B,IAAkC,GAHxC,CAAjB;AAKA,QAAIa,UAAU,GAAGZ,GAAG,CAACE,MAAJ,CAAW,GAAX,EACZC,IADY,CACP,OADO,EACE,QADF,EAEZA,IAFY,CAEP,OAFO,EAEE,OAFF,CAAjB,CAzByB,CA6BzB;;AACAlB,IAAAA,EAAE,CAAC4B,IAAH,CAAS,wHAAT,EAAmIC,IAAnI,CAAyI,UAAUC,YAAV,EAAuB;AAC5J,UAAIC,QAAQ,GAAGD,YAAY,CAACE,IAA5B;AACA,UAAIC,IAAI,GAAG,EAAX;AACA,UAAIC,CAAC,GAAG,CAAR;AACAH,MAAAA,QAAQ,CAACI,OAAT,CAAiBC,CAAC,IAAI;AAClB,YAAIC,KAAK,GAAGpC,MAAM,CAACqC,IAAP,CAAYF,CAAC,CAACG,EAAd,EAAkBC,MAAlB,CAAyB,WAAzB,CAAZ;AACA,YAAIC,WAAW,GAAGL,CAAC,CAACM,OAApB;;AACA,YAAGR,CAAC,IAAI,CAAR,EAAU;AACN,cAAIS,cAAc,GAAGV,IAAI,CAACA,IAAI,CAACW,MAAL,GAAY,CAAb,CAAzB;;AACA,cAAGP,KAAK,IAAIM,cAAc,CAACE,IAA3B,EAAgC;AAC5B,gBAAGT,CAAC,CAACU,IAAF,CAAOC,QAAP,GAAkBJ,cAAc,CAACK,KAApC,EAA0C;AACtCf,cAAAA,IAAI,CAACA,IAAI,CAACW,MAAL,GAAY,CAAb,CAAJ,CAAoBI,KAApB,GAA4BZ,CAAC,CAACU,IAAF,CAAOC,QAAnC;AACH;;AACD,gBAAGX,CAAC,CAACU,IAAF,CAAOG,QAAP,GAAkBN,cAAc,CAACO,KAApC,EAA0C;AACtCjB,cAAAA,IAAI,CAACA,IAAI,CAACW,MAAL,GAAY,CAAb,CAAJ,CAAoBM,KAApB,GAA4Bd,CAAC,CAACU,IAAF,CAAOG,QAAnC;AACH;AACJ,WAPD,MAOK;AACDhB,YAAAA,IAAI,CAACkB,IAAL,CAAU;AAACN,cAAAA,IAAI,EAAER,KAAP;AAAcW,cAAAA,KAAK,EAAEZ,CAAC,CAACU,IAAF,CAAOC,QAA5B;AAAsCG,cAAAA,KAAK,EAAEd,CAAC,CAACU,IAAF,CAAOG,QAApD;AAA8DG,cAAAA,WAAW,EAAEX,WAAW,CAAC,CAAD,CAAX,CAAeW;AAA1F,aAAV;AACH;AACJ,SAZD,MAYK;AACDnB,UAAAA,IAAI,CAACkB,IAAL,CAAU;AAACN,YAAAA,IAAI,EAAER,KAAP;AAAcW,YAAAA,KAAK,EAAEZ,CAAC,CAACU,IAAF,CAAOC,QAA5B;AAAsCG,YAAAA,KAAK,EAAEd,CAAC,CAACU,IAAF,CAAOG,QAApD;AAA8DG,YAAAA,WAAW,EAAEX,WAAW,CAAC,CAAD,CAAX,CAAeW;AAA1F,WAAV;AACH;;AACDlB,QAAAA,CAAC,GAAGA,CAAC,GAAE,CAAP;AACH,OAnBD;AAqBAZ,MAAAA,CAAC,CAAC+B,MAAF,CAASpB,IAAI,CAACqB,GAAL,CAASlB,CAAC,IAAIA,CAAC,CAACS,IAAhB,CAAT;AACA1B,MAAAA,CAAC,CAACkC,MAAF,CAAS,CAAC,CAAD,EAAIrD,EAAE,CAACuD,GAAH,CAAOtB,IAAP,EAAaG,CAAC,IAAIA,CAAC,CAACc,KAApB,CAAJ,CAAT,EA1B4J,CA4B5J;;AACA,UAAIM,KAAK,GAAGxD,EAAE,CAACyD,UAAH,CAAcnC,CAAd,CAAZ;AACAI,MAAAA,UAAU,CACLgC,IADL,CACUF,KADV,EAEKG,SAFL,CAEe,MAFf,EAGKC,KAHL,CAGW,aAHX,EAG0B,KAH1B,EAIK1C,IAJL,CAIU,IAJV,EAIgB,OAJhB,EAKKA,IALL,CAKU,WALV,EAKuB,aALvB,EA9B4J,CAqC5J;;AACA,UAAI2C,KAAK,GAAG7D,EAAE,CAAC8D,QAAH,CAAY3C,CAAZ,EACP4C,KADO,CACD,EADC,EAEPC,UAFO,CAEI5B,CAAC,IAAIA,CAFT,CAAZ;AAGAT,MAAAA,UAAU,CACL+B,IADL,CACUG,KADV,EAEK3C,IAFL,CAEU,WAFV,EAEuB,eAAeV,MAAM,CAACE,IAAtB,GAA6B,KAFpD,EAzC4J,CA8C5J;;AACA,UAAIuD,OAAO,GAAGjE,EAAE,CAACgB,MAAH,CAAU,mBAAV,EACbC,MADa,CACN,KADM,EAEb2C,KAFa,CAEP,UAFO,EAEK,UAFL,EAGbA,KAHa,CAGP,SAHO,EAGI,EAHJ,EAIhBA,KAJgB,CAIV,YAJU,EAII,SAJJ,CAAd,CA/C4J,CAqD5J;;AACAK,MAAAA,OAAO,CAAChD,MAAR,CAAe,MAAf,EACKC,IADL,CACU,OADV,EACmB,cADnB,EAEKA,IAFL,CAEU,GAFV,EAEe,EAFf,EAGKA,IAHL,CAGU,GAHV,EAGe,EAHf,EAtD4J,CA2D5J;;AACAH,MAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EACC0C,SADD,CACW,MADX,EAEC1B,IAFD,CAEMA,IAFN,EAGCiC,KAHD,GAICjD,MAJD,CAIQ,MAJR,EAKCC,IALD,CAKM,GALN,EAKWiD,IAAI,IAAI7C,CAAC,CAAC6C,IAAI,CAACtB,IAAN,CALpB,EAMC3B,IAND,CAMM,GANN,EAMWiD,IAAI,IAAIhD,CAAC,CAACgD,IAAI,CAACnB,KAAN,CANpB,EAOC9B,IAPD,CAOM,OAPN,EAOe,EAPf,EAQCA,IARD,CAQM,QARN,EAQgBiD,IAAI,IAAIhD,CAAC,CAAC,CAAD,CAAD,GAAOA,CAAC,CAACgD,IAAI,CAACnB,KAAN,CARhC,EASC9B,IATD,CASM,MATN,EASc,SATd,EAUCkD,IAVD,CAUMD,IAAI,IAAIA,IAAI,CAACf,WAVnB,EAWFiB,EAXE,CAWC,WAXD,EAWcjC,CAAC,IAAI;AACf,YAAIkC,QAAQ,GAAGlC,CAAC,CAACmC,UAAF,CAAaC,QAA5B;AACAP,QAAAA,OAAO,CAACQ,IAAR,CAAa,YAAUH,QAAQ,CAACzB,IAAnB,GAAwB,eAAxB,GAAwCyB,QAAQ,CAAClB,WAAjD,GAA6D,+BAA7D,GAA6FkB,QAAQ,CAACpB,KAAtG,GAA4G,+BAA5G,GAA4IoB,QAAQ,CAACtB,KAAlK;AACA,eAAOiB,OAAO,CAACL,KAAR,CAAc,YAAd,EAA4B,SAA5B,EACFA,KADE,CACI,KADJ,EACYxB,CAAC,CAACsC,KAAH,GAAY,IADvB,EAC6Bd,KAD7B,CACmC,MADnC,EAC4CxB,CAAC,CAACuC,KAAH,GAAY,IADvD,EAC6Df,KAD7D,CACmE,kBADnE,EACuF,OADvF,EACgGA,KADhG,CACsG,OADtG,EAC+G,OAD/G,EAEFA,KAFE,CAEI,QAFJ,EAEc,iBAFd,EAEiCA,KAFjC,CAEuC,eAFvC,EAEwD,OAFxD,EAEiEA,KAFjE,CAEuE,SAFvE,EAEkF,KAFlF,CAAP;AAGH,OAjBD,EAkBCS,EAlBD,CAkBI,UAlBJ,EAkBgB,MAAMJ,OAAO,CAACL,KAAR,CAAc,YAAd,EAA4B,QAA5B,CAlBtB;AAoBA7C,MAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EACC0C,SADD,CACW,MADX,EAEC1B,IAFD,CAEMA,IAFN,EAGCiC,KAHD,GAICjD,MAJD,CAIQ,MAJR,EAKCC,IALD,CAKM,GALN,EAKWkB,CAAC,IAAId,CAAC,CAACc,CAAC,CAACS,IAAH,CAAD,GAAU,EAL1B,EAMC3B,IAND,CAMM,GANN,EAMWkB,CAAC,IAAIjB,CAAC,CAACiB,CAAC,CAACc,KAAH,CANjB,EAOChC,IAPD,CAOM,OAPN,EAOe,EAPf,EAQCA,IARD,CAQM,QARN,EAQgBkB,CAAC,IAAIjB,CAAC,CAAC,CAAD,CAAD,GAAOA,CAAC,CAACiB,CAAC,CAACc,KAAH,CAR7B,EASChC,IATD,CASM,MATN,EASc,gBATd,EAUCkD,IAVD,CAUMhC,CAAC,IAAIA,CAAC,CAACc,KAVb,EAWFmB,EAXE,CAWC,WAXD,EAWcjC,CAAC,IAAI;AACf,YAAIkC,QAAQ,GAAGlC,CAAC,CAACmC,UAAF,CAAaC,QAA5B;AACAP,QAAAA,OAAO,CAACQ,IAAR,CAAa,YAAUH,QAAQ,CAACzB,IAAnB,GAAwB,eAAxB,GAAwCyB,QAAQ,CAAClB,WAAjD,GAA6D,+BAA7D,GAA6FkB,QAAQ,CAACpB,KAAtG,GAA4G,+BAA5G,GAA4IoB,QAAQ,CAACtB,KAAlK;AACA,eAAOiB,OAAO,CAACL,KAAR,CAAc,YAAd,EAA4B,SAA5B,EACFA,KADE,CACI,KADJ,EACYxB,CAAC,CAACsC,KAAH,GAAY,IADvB,EAC6Bd,KAD7B,CACmC,MADnC,EAC4CxB,CAAC,CAACuC,KAAH,GAAY,IADvD,EAC6Df,KAD7D,CACmE,kBADnE,EACuF,OADvF,EACgGA,KADhG,CACsG,OADtG,EAC+G,OAD/G,EAEFA,KAFE,CAEI,QAFJ,EAEc,iBAFd,EAEiCA,KAFjC,CAEuC,eAFvC,EAEwD,OAFxD,EAEiEA,KAFjE,CAEuE,SAFvE,EAEkF,KAFlF,CAAP;AAGH,OAjBD,EAkBCS,EAlBD,CAkBI,UAlBJ,EAkBgB,MAAMJ,OAAO,CAACL,KAAR,CAAc,YAAd,EAA4B,QAA5B,CAlBtB;AAsBH,KAtGD;AAuGK;;AAEDgB,EAAAA,MAAM,GAAG;AACL,wBACA;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAkC,MAAA,KAAK,EAAE;AAAC,sBAAc;AAAf,OAAzC;AAAA,8BACI;AAAI,QAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEF;AAAK,QAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,cAFE;AAAA;AAAA;AAAA;AAAA;AAAA,YADA;AAME;;AAtJwB;;AAwJlC,eAAe1E,SAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport * as d3 from 'd3';\r\nimport moment from 'moment';\r\n\r\nclass LineChart extends Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.myRef = React.createRef();\r\n    }\r\n\t\r\n\r\n    componentDidMount () {\r\n\r\n\t\tvar margin = { top: 50, left: 60, bottom: 15, right: 0 },\r\n            width = 700 - margin.left - margin.right,\r\n            height = 500 - margin.top - margin.bottom;\r\n\r\nvar svg = d3.select(\".graph-container\").append(\"svg\")\r\n    .attr(\"width\", width + margin.left + margin.right)\r\n    .attr(\"height\", height + margin.top + margin.bottom);\r\n\r\nvar y = d3.scaleLinear()\r\n    .range([height - margin.bottom, margin.top])\r\n\r\nvar x = d3.scaleBand()\r\n    .range([margin.left, width - margin.right])\r\n    .paddingOuter(0.4)\r\n    .paddingInner(0.3)\r\n\r\n\r\n//DEFINIENDO ESTILO PARA EJE X, EJE Y Y BARRAS\r\nvar xAxisGroup = svg.append(\"g\")\r\n    .attr(\"class\", \"x axis\")\r\n    .attr(\"color\", \"black\")\r\n    .attr(\"transform\", \"translate(0, \" + (height - 15) + \")\");\r\n\r\nvar yAxisGroup = svg.append(\"g\")\r\n    .attr(\"class\", \"y axis\")\r\n    .attr(\"color\", \"black\");\r\n\r\n//IMPORTANDO LOS DATOS\r\nd3.json (\"http://api.openweathermap.org/data/2.5/forecast?q=Medellin&lang=sp&units=metric&appid=f0e5a162320155ed3912e1cbaa66d4b2\").then (function (dataComplete){\r\n    var dataList = dataComplete.list;\r\n    var data = [];\r\n    var i = 0;\r\n    dataList.forEach(d => {\r\n        var fecha = moment.unix(d.dt).format(\"DD/MMM/YY\")\r\n        var dataWeather = d.weather;\r\n        if(i >= 1){\r\n            var ultimoRegistro = data[data.length-1];\r\n            if(fecha == ultimoRegistro.date){\r\n                if(d.main.temp_min < ultimoRegistro.tempL){\r\n                    data[data.length-1].tempL = d.main.temp_min;\r\n                }\r\n                if(d.main.temp_max > ultimoRegistro.tempH){\r\n                    data[data.length-1].tempH = d.main.temp_max;\r\n                }\r\n            }else{\r\n                data.push({date: fecha, tempL: d.main.temp_min, tempH: d.main.temp_max, description: dataWeather[0].description})\r\n            }\r\n        }else{\r\n            data.push({date: fecha, tempL: d.main.temp_min, tempH: d.main.temp_max, description: dataWeather[0].description})\r\n        }\r\n        i = i +1;\r\n    });\r\n\r\n    x.domain(data.map(d => d.date));\r\n    y.domain([0, d3.max(data, d => d.tempH)])\r\n\r\n    //DEFINIENDO X\r\n    var xAxis = d3.axisBottom(x);\r\n    xAxisGroup\r\n        .call(xAxis)\r\n        .selectAll(\"text\")\r\n        .style(\"text-anchor\", \"end\")\r\n        .attr(\"dy\", \"0.9em\")\r\n        .attr(\"transform\", \"rotate(-35)\");\r\n\r\n    //DEFINIENDO Y\r\n    var yAxis = d3.axisLeft(y)\r\n        .ticks(10)\r\n        .tickFormat(d => d)\r\n    yAxisGroup\r\n        .call(yAxis)\r\n        .attr(\"transform\", \"translate(\" + margin.left + \",0)\");\r\n\r\n\r\n    //CREANDO EL TOOLTIP\r\n    var tooltip = d3.select(\".forecast-content\")\r\n    .append(\"div\")\r\n    .style(\"position\", \"absolute\")\r\n    .style(\"z-index\", 10)\r\n\t.style(\"visibility\", \"visible\")\r\n\r\n    // Se define la posicion del texto de la fecha en el tooltip\r\n    tooltip.append(\"text\")\r\n        .attr(\"class\", \"tooltip-date\")\r\n        .attr(\"x\", 18)\r\n        .attr(\"y\", 10);\r\n\r\n    //AGREGANDO BARRAS Y TOOLTIP\r\n    svg.append(\"g\")\r\n    .selectAll(\"rect\")\r\n    .data(data)\r\n    .enter()\r\n    .append(\"rect\")\r\n    .attr(\"x\", item => x(item.date))\r\n    .attr(\"y\", item => y(item.tempL))\r\n    .attr(\"width\", 30)\r\n    .attr(\"height\", item => y(0) - y(item.tempL))\r\n    .attr(\"fill\", '#4d7cf1')\r\n    .text(item => item.description)\r\n\t.on('mouseover', d => {\r\n        var dataItem = d.srcElement.__data__;\r\n        tooltip.html(\"Fecha: \"+dataItem.date+\"<br />Tiempo:\"+dataItem.description+\" <br />Temperatura mas alta: \"+dataItem.tempH+\" <br />Temperatura mas baja: \"+dataItem.tempL);\r\n        return tooltip.style(\"visibility\", \"visible\")\r\n            .style(\"top\", (d.pageY) + \"px\").style(\"left\", (d.pageX) + \"px\").style(\"background-color\", \"white\").style(\"color\", \"black\")\r\n            .style(\"border\", \"1px solid black\").style(\"border-radius\", \"0.5cm\").style(\"padding\", \"5px\")\r\n    })\r\n    .on(\"mouseout\", () => tooltip.style(\"visibility\", \"hidden\"))\r\n\r\n    svg.append(\"g\")\r\n    .selectAll(\"rect\")\r\n    .data(data)\r\n    .enter()\r\n    .append(\"rect\")\r\n    .attr(\"x\", d => x(d.date)+30)\r\n    .attr(\"y\", d => y(d.tempH))  \r\n    .attr(\"width\", 30)\r\n    .attr(\"height\", d => y(0) - y(d.tempH))\r\n    .attr(\"fill\", 'rgb(197 37 37)')\r\n    .text(d => d.tempH)\r\n\t.on('mouseover', d => {\r\n        var dataItem = d.srcElement.__data__;\r\n        tooltip.html(\"Fecha: \"+dataItem.date+\"<br />Tiempo:\"+dataItem.description+\" <br />Temperatura mas alta: \"+dataItem.tempH+\" <br />Temperatura mas baja: \"+dataItem.tempL);\r\n        return tooltip.style(\"visibility\", \"visible\")\r\n            .style(\"top\", (d.pageY) + \"px\").style(\"left\", (d.pageX) + \"px\").style(\"background-color\", \"white\").style(\"color\", \"black\")\r\n            .style(\"border\", \"1px solid black\").style(\"border-radius\", \"0.5cm\").style(\"padding\", \"5px\")\r\n    })\r\n    .on(\"mouseout\", () => tooltip.style(\"visibility\", \"hidden\"))\r\n\r\n\t\r\n\r\n});\r\n    }\r\n\r\n    render() {\r\n        return( \r\n        <div className=\"forecast-content\" style={{'background': 'white'}}>\r\n            <h2 className=\"section-title\">Pronóstico de los próximos 5 dias</h2>\r\n\t\t    <div className=\"graph-container\">\r\n\t        </div>\r\n\t    </div>\r\n        )};\r\n}\r\nexport default LineChart;"]},"metadata":{},"sourceType":"module"}