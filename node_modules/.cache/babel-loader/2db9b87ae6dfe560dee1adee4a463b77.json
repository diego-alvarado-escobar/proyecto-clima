{"ast":null,"code":"import _classCallCheck from\"C:/Users/alvar/OneDrive/Proyectos/TestBanco/proyectoclima/produccion/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/alvar/OneDrive/Proyectos/TestBanco/proyectoclima/produccion/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/alvar/OneDrive/Proyectos/TestBanco/proyectoclima/produccion/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/alvar/OneDrive/Proyectos/TestBanco/proyectoclima/produccion/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import*as d3 from'd3';import moment from'moment';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LineChart=/*#__PURE__*/function(_Component){_inherits(LineChart,_Component);var _super=_createSuper(LineChart);function LineChart(props){var _this;_classCallCheck(this,LineChart);_this=_super.call(this,props);_this.myRef=/*#__PURE__*/React.createRef();return _this;}_createClass(LineChart,[{key:\"componentDidMount\",value:function componentDidMount(){var margin={top:50,left:60,bottom:15,right:0},width=700-margin.left-margin.right,height=500-margin.top-margin.bottom;var svg=d3.select(\".graph-container\").append(\"svg\").attr(\"width\",width+margin.left+margin.right).attr(\"height\",height+margin.top+margin.bottom);var y=d3.scaleLinear().range([height-margin.bottom,margin.top]);var x=d3.scaleBand().range([margin.left,width-margin.right]).paddingOuter(0.4).paddingInner(0.3);//DEFINIENDO ESTILO PARA EJE X, EJE Y Y BARRAS\nvar xAxisGroup=svg.append(\"g\").attr(\"class\",\"x axis\").attr(\"color\",\"black\").attr(\"transform\",\"translate(0, \"+(height-15)+\")\");var yAxisGroup=svg.append(\"g\").attr(\"class\",\"y axis\").attr(\"color\",\"black\");//IMPORTANDO LOS DATOS\nd3.json(\"https://api.openweathermap.org/data/2.5/forecast?q=Medellin&lang=sp&units=metric&appid=f0e5a162320155ed3912e1cbaa66d4b2\").then(function(dataComplete){var dataList=dataComplete.list;var data=[];var i=0;dataList.forEach(function(d){var fecha=moment.unix(d.dt).format(\"DD/MMM/YY\");var dataWeather=d.weather;if(i>=1){var ultimoRegistro=data[data.length-1];if(fecha==ultimoRegistro.date){if(d.main.temp_min<ultimoRegistro.tempL){data[data.length-1].tempL=d.main.temp_min;}if(d.main.temp_max>ultimoRegistro.tempH){data[data.length-1].tempH=d.main.temp_max;}}else{data.push({date:fecha,tempL:d.main.temp_min,tempH:d.main.temp_max,description:dataWeather[0].description});}}else{data.push({date:fecha,tempL:d.main.temp_min,tempH:d.main.temp_max,description:dataWeather[0].description});}i=i+1;});x.domain(data.map(function(d){return d.date;}));y.domain([0,d3.max(data,function(d){return d.tempH;})]);//DEFINIENDO X\nvar xAxis=d3.axisBottom(x);xAxisGroup.call(xAxis).selectAll(\"text\").style(\"text-anchor\",\"end\").attr(\"dy\",\"0.9em\").attr(\"transform\",\"rotate(-35)\");//DEFINIENDO Y\nvar yAxis=d3.axisLeft(y).ticks(10).tickFormat(function(d){return d;});yAxisGroup.call(yAxis).attr(\"transform\",\"translate(\"+margin.left+\",0)\");//CREANDO EL TOOLTIP\nvar tooltip=d3.select(\".forecast-content\").append(\"div\").style(\"position\",\"absolute\").style(\"z-index\",10).style(\"visibility\",\"visible\");// Se define la posicion del texto de la fecha en el tooltip\ntooltip.append(\"text\").attr(\"class\",\"tooltip-date\").attr(\"x\",18).attr(\"y\",10);//AGREGANDO BARRAS Y TOOLTIP\nsvg.append(\"g\").selectAll(\"rect\").data(data).enter().append(\"rect\").attr(\"x\",function(item){return x(item.date);}).attr(\"y\",function(item){return y(item.tempL);}).attr(\"width\",30).attr(\"height\",function(item){return y(0)-y(item.tempL);}).attr(\"fill\",'#4d7cf1').text(function(item){return item.description;}).on('mouseover',function(d){var dataItem=d.srcElement.__data__;tooltip.html(\"Fecha: \"+dataItem.date+\"<br />Tiempo:\"+dataItem.description+\" <br />Temperatura mas alta: \"+dataItem.tempH+\" <br />Temperatura mas baja: \"+dataItem.tempL);return tooltip.style(\"visibility\",\"visible\").style(\"top\",d.pageY+\"px\").style(\"left\",d.pageX+\"px\").style(\"background-color\",\"white\").style(\"color\",\"black\").style(\"border\",\"1px solid black\").style(\"border-radius\",\"0.5cm\").style(\"padding\",\"5px\");}).on(\"mouseout\",function(){return tooltip.style(\"visibility\",\"hidden\");});svg.append(\"g\").selectAll(\"rect\").data(data).enter().append(\"rect\").attr(\"x\",function(d){return x(d.date)+30;}).attr(\"y\",function(d){return y(d.tempH);}).attr(\"width\",30).attr(\"height\",function(d){return y(0)-y(d.tempH);}).attr(\"fill\",'rgb(197 37 37)').text(function(d){return d.tempH;}).on('mouseover',function(d){var dataItem=d.srcElement.__data__;tooltip.html(\"Fecha: \"+dataItem.date+\"<br />Tiempo:\"+dataItem.description+\" <br />Temperatura mas alta: \"+dataItem.tempH+\" <br />Temperatura mas baja: \"+dataItem.tempL);return tooltip.style(\"visibility\",\"visible\").style(\"top\",d.pageY+\"px\").style(\"left\",d.pageX+\"px\").style(\"background-color\",\"white\").style(\"color\",\"black\").style(\"border\",\"1px solid black\").style(\"border-radius\",\"0.5cm\").style(\"padding\",\"5px\");}).on(\"mouseout\",function(){return tooltip.style(\"visibility\",\"hidden\");});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"forecast-content\",style:{'background':'white'},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Pron\\xF3stico de los pr\\xF3ximos 5 dias\"}),/*#__PURE__*/_jsx(\"div\",{className:\"graph-container\"})]});}}]);return LineChart;}(Component);export default LineChart;","map":{"version":3,"sources":["C:/Users/alvar/OneDrive/Proyectos/TestBanco/proyectoclima/produccion/src/Components/LineChart.js"],"names":["React","Component","d3","moment","LineChart","props","myRef","createRef","margin","top","left","bottom","right","width","height","svg","select","append","attr","y","scaleLinear","range","x","scaleBand","paddingOuter","paddingInner","xAxisGroup","yAxisGroup","json","then","dataComplete","dataList","list","data","i","forEach","d","fecha","unix","dt","format","dataWeather","weather","ultimoRegistro","length","date","main","temp_min","tempL","temp_max","tempH","push","description","domain","map","max","xAxis","axisBottom","call","selectAll","style","yAxis","axisLeft","ticks","tickFormat","tooltip","enter","item","text","on","dataItem","srcElement","__data__","html","pageY","pageX"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport * as d3 from 'd3';\r\nimport moment from 'moment';\r\n\r\nclass LineChart extends Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.myRef = React.createRef();\r\n    }\r\n\t\r\n\r\n    componentDidMount () {\r\n\r\n\t\tvar margin = { top: 50, left: 60, bottom: 15, right: 0 },\r\n            width = 700 - margin.left - margin.right,\r\n            height = 500 - margin.top - margin.bottom;\r\n\r\nvar svg = d3.select(\".graph-container\").append(\"svg\")\r\n    .attr(\"width\", width + margin.left + margin.right)\r\n    .attr(\"height\", height + margin.top + margin.bottom);\r\n\r\nvar y = d3.scaleLinear()\r\n    .range([height - margin.bottom, margin.top])\r\n\r\nvar x = d3.scaleBand()\r\n    .range([margin.left, width - margin.right])\r\n    .paddingOuter(0.4)\r\n    .paddingInner(0.3)\r\n\r\n\r\n//DEFINIENDO ESTILO PARA EJE X, EJE Y Y BARRAS\r\nvar xAxisGroup = svg.append(\"g\")\r\n    .attr(\"class\", \"x axis\")\r\n    .attr(\"color\", \"black\")\r\n    .attr(\"transform\", \"translate(0, \" + (height - 15) + \")\");\r\n\r\nvar yAxisGroup = svg.append(\"g\")\r\n    .attr(\"class\", \"y axis\")\r\n    .attr(\"color\", \"black\");\r\n\r\n//IMPORTANDO LOS DATOS\r\nd3.json (\"https://api.openweathermap.org/data/2.5/forecast?q=Medellin&lang=sp&units=metric&appid=f0e5a162320155ed3912e1cbaa66d4b2\").then (function (dataComplete){\r\n    var dataList = dataComplete.list;\r\n    var data = [];\r\n    var i = 0;\r\n    dataList.forEach(d => {\r\n        var fecha = moment.unix(d.dt).format(\"DD/MMM/YY\")\r\n        var dataWeather = d.weather;\r\n        if(i >= 1){\r\n            var ultimoRegistro = data[data.length-1];\r\n            if(fecha == ultimoRegistro.date){\r\n                if(d.main.temp_min < ultimoRegistro.tempL){\r\n                    data[data.length-1].tempL = d.main.temp_min;\r\n                }\r\n                if(d.main.temp_max > ultimoRegistro.tempH){\r\n                    data[data.length-1].tempH = d.main.temp_max;\r\n                }\r\n            }else{\r\n                data.push({date: fecha, tempL: d.main.temp_min, tempH: d.main.temp_max, description: dataWeather[0].description})\r\n            }\r\n        }else{\r\n            data.push({date: fecha, tempL: d.main.temp_min, tempH: d.main.temp_max, description: dataWeather[0].description})\r\n        }\r\n        i = i +1;\r\n    });\r\n\r\n    x.domain(data.map(d => d.date));\r\n    y.domain([0, d3.max(data, d => d.tempH)])\r\n\r\n    //DEFINIENDO X\r\n    var xAxis = d3.axisBottom(x);\r\n    xAxisGroup\r\n        .call(xAxis)\r\n        .selectAll(\"text\")\r\n        .style(\"text-anchor\", \"end\")\r\n        .attr(\"dy\", \"0.9em\")\r\n        .attr(\"transform\", \"rotate(-35)\");\r\n\r\n    //DEFINIENDO Y\r\n    var yAxis = d3.axisLeft(y)\r\n        .ticks(10)\r\n        .tickFormat(d => d)\r\n    yAxisGroup\r\n        .call(yAxis)\r\n        .attr(\"transform\", \"translate(\" + margin.left + \",0)\");\r\n\r\n\r\n    //CREANDO EL TOOLTIP\r\n    var tooltip = d3.select(\".forecast-content\")\r\n    .append(\"div\")\r\n    .style(\"position\", \"absolute\")\r\n    .style(\"z-index\", 10)\r\n\t.style(\"visibility\", \"visible\")\r\n\r\n    // Se define la posicion del texto de la fecha en el tooltip\r\n    tooltip.append(\"text\")\r\n        .attr(\"class\", \"tooltip-date\")\r\n        .attr(\"x\", 18)\r\n        .attr(\"y\", 10);\r\n\r\n    //AGREGANDO BARRAS Y TOOLTIP\r\n    svg.append(\"g\")\r\n    .selectAll(\"rect\")\r\n    .data(data)\r\n    .enter()\r\n    .append(\"rect\")\r\n    .attr(\"x\", item => x(item.date))\r\n    .attr(\"y\", item => y(item.tempL))\r\n    .attr(\"width\", 30)\r\n    .attr(\"height\", item => y(0) - y(item.tempL))\r\n    .attr(\"fill\", '#4d7cf1')\r\n    .text(item => item.description)\r\n\t.on('mouseover', d => {\r\n        var dataItem = d.srcElement.__data__;\r\n        tooltip.html(\"Fecha: \"+dataItem.date+\"<br />Tiempo:\"+dataItem.description+\" <br />Temperatura mas alta: \"+dataItem.tempH+\" <br />Temperatura mas baja: \"+dataItem.tempL);\r\n        return tooltip.style(\"visibility\", \"visible\")\r\n            .style(\"top\", (d.pageY) + \"px\").style(\"left\", (d.pageX) + \"px\").style(\"background-color\", \"white\").style(\"color\", \"black\")\r\n            .style(\"border\", \"1px solid black\").style(\"border-radius\", \"0.5cm\").style(\"padding\", \"5px\")\r\n    })\r\n    .on(\"mouseout\", () => tooltip.style(\"visibility\", \"hidden\"))\r\n\r\n    svg.append(\"g\")\r\n    .selectAll(\"rect\")\r\n    .data(data)\r\n    .enter()\r\n    .append(\"rect\")\r\n    .attr(\"x\", d => x(d.date)+30)\r\n    .attr(\"y\", d => y(d.tempH))  \r\n    .attr(\"width\", 30)\r\n    .attr(\"height\", d => y(0) - y(d.tempH))\r\n    .attr(\"fill\", 'rgb(197 37 37)')\r\n    .text(d => d.tempH)\r\n\t.on('mouseover', d => {\r\n        var dataItem = d.srcElement.__data__;\r\n        tooltip.html(\"Fecha: \"+dataItem.date+\"<br />Tiempo:\"+dataItem.description+\" <br />Temperatura mas alta: \"+dataItem.tempH+\" <br />Temperatura mas baja: \"+dataItem.tempL);\r\n        return tooltip.style(\"visibility\", \"visible\")\r\n            .style(\"top\", (d.pageY) + \"px\").style(\"left\", (d.pageX) + \"px\").style(\"background-color\", \"white\").style(\"color\", \"black\")\r\n            .style(\"border\", \"1px solid black\").style(\"border-radius\", \"0.5cm\").style(\"padding\", \"5px\")\r\n    })\r\n    .on(\"mouseout\", () => tooltip.style(\"visibility\", \"hidden\"))\r\n\r\n\t\r\n\r\n});\r\n    }\r\n\r\n    render() {\r\n        return( \r\n        <div className=\"forecast-content\" style={{'background': 'white'}}>\r\n            <h2 className=\"section-title\">Pronóstico de los próximos 5 dias</h2>\r\n\t\t    <div className=\"graph-container\">\r\n\t        </div>\r\n\t    </div>\r\n        )};\r\n}\r\nexport default LineChart;"]},"metadata":{},"sourceType":"module"}