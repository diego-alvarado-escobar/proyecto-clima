{"ast":null,"code":"// set the dimensions and margins of the graph\nvar margin = {\n  top: 10,\n  right: 30,\n  bottom: 30,\n  left: 40\n},\n    width = 460 - margin.left - margin.right,\n    height = 400 - margin.top - margin.bottom; // append the svg object to the body of the page\n\nvar svg = d3.select(\"#my_dataviz\").append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\"); // get the data\n\nd3.csv(\"https://raw.githubusercontent.com/holtzy/data_to_viz/master/Example_dataset/1_OneNum.csv\", function (data) {\n  // X axis: scale and draw:\n  var x = d3.scaleLinear().domain([0, 1000]) // can use this instead of 1000 to have the max of data: d3.max(data, function(d) { return +d.price })\n  .range([0, width]);\n  svg.append(\"g\").attr(\"transform\", \"translate(0,\" + height + \")\").call(d3.axisBottom(x)); // set the parameters for the histogram\n\n  var histogram = d3.histogram().value(function (d) {\n    return d.price;\n  }) // I need to give the vector of value\n  .domain(x.domain()) // then the domain of the graphic\n  .thresholds(x.ticks(70)); // then the numbers of bins\n  // And apply this function to data to get the bins\n\n  var bins = histogram(data); // Y axis: scale and draw:\n\n  var y = d3.scaleLinear().range([height, 0]);\n  y.domain([0, d3.max(bins, function (d) {\n    return d.length;\n  })]); // d3.hist has to be called before the Y axis obviously\n\n  svg.append(\"g\").call(d3.axisLeft(y)); // Add a tooltip div. Here I define the general feature of the tooltip: stuff that do not depend on the data point.\n  // Its opacity is set to 0: we don't see it by default.\n\n  var tooltip = d3.select(\"#my_dataviz\").append(\"div\").style(\"opacity\", 0).attr(\"class\", \"tooltip\").style(\"background-color\", \"black\").style(\"color\", \"white\").style(\"border-radius\", \"5px\").style(\"padding\", \"10px\"); // A function that change this tooltip when the user hover a point.\n  // Its opacity is set to 1: we can now see it. Plus it set the text and position of tooltip depending on the datapoint (d)\n\n  var showTooltip = function (d) {\n    tooltip.transition().duration(100).style(\"opacity\", 1);\n    tooltip.html(\"Range: \" + d.x0 + \" - \" + d.x1).style(\"left\", d3.mouse(this)[0] + 20 + \"px\").style(\"top\", d3.mouse(this)[1] + \"px\");\n  };\n\n  var moveTooltip = function (d) {\n    tooltip.style(\"left\", d3.mouse(this)[0] + 20 + \"px\").style(\"top\", d3.mouse(this)[1] + \"px\");\n  }; // A function that change this tooltip when the leaves a point: just need to set opacity to 0 again\n\n\n  var hideTooltip = function (d) {\n    tooltip.transition().duration(100).style(\"opacity\", 0);\n  }; // append the bar rectangles to the svg element\n\n\n  svg.selectAll(\"rect\").data(bins).enter().append(\"rect\").attr(\"x\", 1).attr(\"transform\", function (d) {\n    return \"translate(\" + x(d.x0) + \",\" + y(d.length) + \")\";\n  }).attr(\"width\", function (d) {\n    return x(d.x1) - x(d.x0) - 1;\n  }).attr(\"height\", function (d) {\n    return height - y(d.length);\n  }).style(\"fill\", \"#69b3a2\") // Show tooltip on hover\n  .on(\"mouseover\", showTooltip).on(\"mousemove\", moveTooltip).on(\"mouseleave\", hideTooltip);\n});","map":{"version":3,"sources":["C:/Users/alvar/OneDrive/Proyectos/TestBanco/proyectoclima/produccion/src/Components/graficaD3.js"],"names":["margin","top","right","bottom","left","width","height","svg","d3","select","append","attr","csv","data","x","scaleLinear","domain","range","call","axisBottom","histogram","value","d","price","thresholds","ticks","bins","y","max","length","axisLeft","tooltip","style","showTooltip","transition","duration","html","x0","x1","mouse","moveTooltip","hideTooltip","selectAll","enter","on"],"mappings":"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","sourcesContent":["// set the dimensions and margins of the graph\r\nvar margin = {top: 10, right: 30, bottom: 30, left: 40},\r\n    width = 460 - margin.left - margin.right,\r\n    height = 400 - margin.top - margin.bottom;\r\n\r\n// append the svg object to the body of the page\r\nvar svg = d3.select(\"#my_dataviz\")\r\n  .append(\"svg\")\r\n    .attr(\"width\", width + margin.left + margin.right)\r\n    .attr(\"height\", height + margin.top + margin.bottom)\r\n  .append(\"g\")\r\n    .attr(\"transform\",\r\n          \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\n// get the data\r\nd3.csv(\"https://raw.githubusercontent.com/holtzy/data_to_viz/master/Example_dataset/1_OneNum.csv\", function(data) {\r\n\r\n  // X axis: scale and draw:\r\n  var x = d3.scaleLinear()\r\n      .domain([0, 1000])     // can use this instead of 1000 to have the max of data: d3.max(data, function(d) { return +d.price })\r\n      .range([0, width]);\r\n  svg.append(\"g\")\r\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n      .call(d3.axisBottom(x));\r\n\r\n  // set the parameters for the histogram\r\n  var histogram = d3.histogram()\r\n      .value(function(d) { return d.price; })   // I need to give the vector of value\r\n      .domain(x.domain())  // then the domain of the graphic\r\n      .thresholds(x.ticks(70)); // then the numbers of bins\r\n\r\n  // And apply this function to data to get the bins\r\n  var bins = histogram(data);\r\n\r\n  // Y axis: scale and draw:\r\n  var y = d3.scaleLinear()\r\n      .range([height, 0]);\r\n      y.domain([0, d3.max(bins, function(d) { return d.length; })]);   // d3.hist has to be called before the Y axis obviously\r\n  svg.append(\"g\")\r\n      .call(d3.axisLeft(y));\r\n\r\n  // Add a tooltip div. Here I define the general feature of the tooltip: stuff that do not depend on the data point.\r\n  // Its opacity is set to 0: we don't see it by default.\r\n  var tooltip = d3.select(\"#my_dataviz\")\r\n    .append(\"div\")\r\n    .style(\"opacity\", 0)\r\n    .attr(\"class\", \"tooltip\")\r\n    .style(\"background-color\", \"black\")\r\n    .style(\"color\", \"white\")\r\n    .style(\"border-radius\", \"5px\")\r\n    .style(\"padding\", \"10px\")\r\n\r\n  // A function that change this tooltip when the user hover a point.\r\n  // Its opacity is set to 1: we can now see it. Plus it set the text and position of tooltip depending on the datapoint (d)\r\n  var showTooltip = function(d) {\r\n    tooltip\r\n      .transition()\r\n      .duration(100)\r\n      .style(\"opacity\", 1)\r\n    tooltip\r\n      .html(\"Range: \" + d.x0 + \" - \" + d.x1)\r\n      .style(\"left\", (d3.mouse(this)[0]+20) + \"px\")\r\n      .style(\"top\", (d3.mouse(this)[1]) + \"px\")\r\n  }\r\n  var moveTooltip = function(d) {\r\n    tooltip\r\n    .style(\"left\", (d3.mouse(this)[0]+20) + \"px\")\r\n    .style(\"top\", (d3.mouse(this)[1]) + \"px\")\r\n  }\r\n  // A function that change this tooltip when the leaves a point: just need to set opacity to 0 again\r\n  var hideTooltip = function(d) {\r\n    tooltip\r\n      .transition()\r\n      .duration(100)\r\n      .style(\"opacity\", 0)\r\n  }\r\n\r\n  // append the bar rectangles to the svg element\r\n  svg.selectAll(\"rect\")\r\n      .data(bins)\r\n      .enter()\r\n      .append(\"rect\")\r\n        .attr(\"x\", 1)\r\n        .attr(\"transform\", function(d) { return \"translate(\" + x(d.x0) + \",\" + y(d.length) + \")\"; })\r\n        .attr(\"width\", function(d) { return x(d.x1) - x(d.x0) -1 ; })\r\n        .attr(\"height\", function(d) { return height - y(d.length); })\r\n        .style(\"fill\", \"#69b3a2\")\r\n        // Show tooltip on hover\r\n        .on(\"mouseover\", showTooltip )\r\n        .on(\"mousemove\", moveTooltip )\r\n        .on(\"mouseleave\", hideTooltip )\r\n\r\n});\r\n"]},"metadata":{},"sourceType":"module"}